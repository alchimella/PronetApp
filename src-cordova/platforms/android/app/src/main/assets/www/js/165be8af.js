(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["165be8af"],{"18e5":function(e,t,s){},"3e4e":function(e,t){e.exports="data:image/png;base64,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"},5282:function(e,t,s){"use strict";var r=s("18e5"),i=s.n(r);i.a},"679c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAAwCAYAAABt0kb0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM2SURBVHgB7ZtdTttAEMdn164LEhK+QZ2HkERCKkdwb8ANCCcoPUGTEzQ9AekJmp4Ac4O8BQxVfARXCijg2NvZyAaXZJONWJQU5vdgez3jXecfe7yfDEqEYdgEYEeMsQMhhAuEAhbhJkjTpN1oNKKHs3IzGAw8y7J/4uEBECvBGLSq1Wp7eiw3YXg9BBBe4YBPZYRPZwT/EXi/sRAQwwuD4rlZlh1geV5xLsvSL/V6vcPyV/tUnpQiZhk7bjSqARALubi4OuEcvuXJ+OZmVOEyRhYOqPAnElKPer3aESJr50l3e3u7iWKCL1P46P4qB1NiOY7jdIpjzu2PvEhgLOgDsRKVSuWfGM2BMAaJaRAS0yAkpkFITIPYOk6yuWnbtqeyj0aj/s7OjrIpOplMIsuyXGw1zG3v393dxWiPn1vGuqt2WmJyzpvYVPuqsuOP9NF+tuB6Wbk9Qh9vnt1x3gdYAT43UEYL1gi95gYhMQ1CYhpEK2YKwbHZJCKVHT8s0x6nRdejS4Q+qhxiE2XAmtESU/aQ4K6zxK2yxL7seh2fZWWsFc2q0ZXPeear7Le3tx3XdeH+/v7kqS1JWG9/f69/eXl9CJBOqza1Wq2lyhN7r7p4W95TW5EPbDCaVaPMZ4wrqy27u7un4/GY4dDHjI/jTF9NFCE9xDyKvtOWOk8ezLM95rO50AfIICSmQbRe89fCcDh058X1ReCYGDZT97o6vrpiYqxiXZXxDyI/QEmSzvikKUT5TQWWxcSyPNM0i3GgasZW5PMcMK678+L6IiwLAtx1dXy1xMSvbw93PQ3XY5Uh/3e7mnn2Qa+8jYJipkFITIOQmAYhMQ1CYhqExDQIiWkQEtMgJKZBSEyDvKmOjq2trXg8To5XuYZzoT0c8qbEzKcAduGFoNfcICSmQUhMg5CYBuFy/Yw8YMz6AMRKyNmB5TQXQuTDp+LwqZFYjG3bD8t+cLjlHMVk3/M0jo+8OyNB9QjD35+FKE9hTIN8ud+VnPfol3yDfLElMQch5CQJ5j2moV2rVVtTMeUQaJJM5EJUH4iVKISUx6xsGAzCJg7Hyjgg5wTREmk1+NFmvTQVP8rLI/8CXjg/4bKEAO8AAAAASUVORK5CYII="},"9f0e":function(e,t){e.exports="data:image/png;base64,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"},f241:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-page-container",{staticClass:"background"},[s("router-view"),s("Footer")],1)],1)},i=[],a=s("967e"),o=s.n(a),n=(s("96cf"),s("fa84")),c=s.n(n),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-footer",{staticClass:"bg-primary-dark2 q-pb-md",attrs:{elevated:""}},[r("q-tabs",{staticClass:"text-grey",attrs:{"no-caps":"","switch-indicator":"","active-color":"primary","indicator-color":"bg-next-blue2"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("q-route-tab",{attrs:{to:"/",exact:""}},[r("img",{staticClass:"q-mt-sm",staticStyle:{width:"30px",height:"30px"},attrs:{src:s("fbf5")}}),r("span",[e._v("Главная")])]),r("q-route-tab",{attrs:{to:"/coupons",exact:""}},[r("img",{staticClass:"q-mt-sm",staticStyle:{width:"48px",height:"30px"},attrs:{src:s("9f0e")}}),r("span",[e._v("Талоны")])]),r("q-route-tab",{attrs:{to:"/cards",exact:""}},[r("img",{staticClass:"q-mt-sm",staticStyle:{width:"48px",height:"30px"},attrs:{src:s("679c")}}),r("span",[e._v("Карты")])]),r("q-route-tab",{attrs:{to:"/settings",exact:""}},[r("img",{staticClass:"q-mt-sm",staticStyle:{width:"36px",height:"30px"},attrs:{src:s("3e4e")}}),r("span",[e._v("Настройки")])])],1)],1)},A=[],u={name:"Footer",data:function(){return{}}},h=u,g=s("2877"),v=s("eebe"),p=s.n(v),m=s("7ff0"),d=s("429bb"),f=s("7867"),S=Object(g["a"])(h,l,A,!1,null,"1c28c298",null),w=S.exports;p()(S,"components",{QFooter:m["a"],QTabs:d["a"],QRouteTab:f["a"]});var E=s("2dd8"),x={name:"MyLayout",components:{Footer:w},data:function(){return{url:localStorage.url,server:"",port:"",login:"",password:"",isPwd:!0,comment:localStorage.comment,status:localStorage.status,color:localStorage.color,isUser:!0,isCashier:!1,messageSuccessful:null,messageError:null,messageErr:null,messageRegistrateSuccessful:null,messageRegistrateError:null,model:null,leftDrawerOpen:!1,rightDrawerOpen:!1,isActiveButton:!0,isActiveRegistrateButton:!1,isActiveSpinner:!1,isActiveRegistrateSpinner:!1,isActiveSelect:!1,objects:[],deviceId:device.uuid,test:""}},watch:{url:function(e){this.url=e.toLowerCase().trim()},server:function(e){this.server=e.toLowerCase().trim()},login:function(e){this.login=e.toLowerCase().trim()},test:function(e){console.warn(this.isCashier),this.isCashier&&clearInterval(e)}},methods:{terminalRegistration:function(){var e=this;console.log("Запушен процесс регистрации терминала"),this.$refs.url.validate(),this.isActiveRegistrateSpinner=!0,this.isActiveButton=!1;var t={deviceId:this.deviceId,comment:this.comment},s=Object(E["d"])(t);this.$refs.url.hasError&&(this.formHasError=!0);var r={method:"post",url:"http://"+this.url,data:s};this.$axios(r).then((function(t){console.log("Запрос на регистрацию терминала прошел успешно. Ожидается подтверждение!",t);var s=t.data.envelope.body.response.data[0]["_idrref"];localStorage.idrref=s,localStorage.url=e.url,localStorage.comment=e.comment,e.test=setInterval(c()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getStatus(s);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),1e4),e.messageErr=!1,e.isActiveRegistrateSpinner=!1,e.status="В ожидании",e.color="orange",localStorage.status=e.status,localStorage.color=e.color,e.isActiveButton=!0})).catch((function(t){console.warn(t),console.error("Произошла ошибка при регистрации терминала: ",t),e.messageErr="Произошла ошибка при регистрации терминала! Проверьте поля.",e.isActiveRegistrateSpinner=!1,e.isActiveButton=!0}))},testConnection:function(){var e=c()(o.a.mark((function e(){var t,s=this;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Запушен процесс проверки соединения"),this.$refs.server.validate(),this.$refs.port.validate(),(this.$refs.server.hasError||this.$refs.port.hasError)&&(this.formHasError=!0),t={method:"get",url:"http://"+this.server+":"+this.port},this.isActiveButton=!1,this.isActiveSpinner=!0,this.messageSuccessful=null,this.messageError=null,this.$axios(t).then((function(e){console.log("Соединение с сервером прошло успешно!",e),s.isActiveSpinner=!1,s.isActiveButton=!0,s.messageSuccessful="Успешное соединение!"})).catch((function(e){console.error("Произошла ошибка при соединении с сервером: ",e),s.isActiveSpinner=!1,s.isActiveButton=!0,s.messageError="Произошла ошибка при соединении с сервером!"}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),save:function(){var e=c()(o.a.mark((function e(){var t,s,r,i=this;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Запушен процесс авторизации"),this.$refs.server.validate(),this.$refs.port.validate(),this.$refs.login.validate(),this.$refs.password.validate(),!(this.$refs.server.hasError||this.$refs.port.hasError||this.$refs.login.hasError||this.$refs.password.hasError)){e.next=8;break}return this.formHasError=!0,e.abrupt("return");case 8:t={login:this.login,password:this.password},s=Object(E["b"])(t),r={method:"post",url:"http://"+this.server+":"+this.port,data:s},this.isActiveButton=!1,this.isActiveSpinner=!0,this.$axios(r).then((function(e){var t=e.data.envelope.body.logon.response.auth_result.success;console.log("Результат запроса: ",e),i.isActiveSpinner=!1,i.isActiveButton=!0,t?(i.isActiveSelect=!0,i.isActiveRegistrateButton=!0,i.messageSuccessful="Успешно авторизирован!",i.messageRegistrateError="Необходимо зарегистрировать устройство",i.messageError=!1,i.getObjects(),localStorage.setItem("server",i.server),localStorage.setItem("port",i.port),localStorage.setItem("login",i.login),localStorage.setItem("password",i.password)):(console.error("Произошла ошибка при авторизации. Неправильный логин или пароль"),i.isActiveSelect=!1,i.isActiveRegistrateButton=!1,i.messageRegistrateError=!1,i.messageSuccessful=!1,i.messageRegistrateError=!1,i.messageError="Неправильный логин или пароль!")})).catch((function(e){console.error("Произошла ошибка при соединении с сервером: ",e),i.isActiveSpinner=!1,i.isActiveButton=!0,i.messageError="Произошла ошибка при соединении с сервером!"}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),registrate:function(){var e=this;if(console.log("Запушен процесс регистрации"),!this.deviceId||!this.model)return console.error("Приходят пустые значения deviceId - "+this.deviceId+" или model - "+this.model),this.isActiveRegistrateButton=!0,this.isActiveRegistrateSpinner=!1,this.messageRegistrateSuccessful=!1,void(this.messageRegistrateError=!1);if(this.deviceId&&this.model){var t={deviceId:this.deviceId,model:this.model},s=Object(E["c"])(t),r={method:"post",url:"http://"+this.server+":"+this.port,data:s};this.isActiveRegistrateButton=!1,this.isActiveRegistrateSpinner=!0,this.$axios(r).then((function(t){console.log("RES: ",JSON.stringify(t)),e.isActiveRegistrateSpinner=!1,e.isActiveRegistrateButton=!0,e.messageRegistrateError=!1,e.messageRegistrateSuccessful="Устройство успешно зарегистрировано!",localStorage.setItem("deviceId",e.deviceId),localStorage.setItem("model",e.model)})).catch((function(t){console.error("Произошла ошибка при регистрации устройства на объект: ",t),e.isActiveRegistrateSpinner=!1,e.isActiveRegistrateButton=!0,e.messageRegistrateSuccessful=!1,e.messageRegistrateError="Произошла ошибка при регистрации устройства на объект!"}))}},getObjects:function(){var e=c()(o.a.mark((function e(){var t,s,r,i,a,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="select * from _reference12",s=Object(E["a"])(t),r={method:"post",url:"http://"+this.server+":"+this.port,data:s},e.prev=3,e.next=6,this.$axios(r);case 6:i=e.sent,a=i.data.envelope.body.response.data,n=this,a.forEach((function(e){var t={label:e._name,value:e._idrref};n.objects.push(t)})),localStorage.setItem("objects",JSON.stringify(this.objects)),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](3),console.error("Произошла ошибка при загрузке объектов: ",e.t0),this.isError=!0,this.message="Произошла ошибка при загрузке объектов!";case 18:case"end":return e.stop()}}),e,this,[[3,13]])})));function t(){return e.apply(this,arguments)}return t}(),getStatus:function(e){var t=this,s=this;if(!e||!e.length||void 0==e)return console.error("Передано пустое значение idrref"),void clearInterval(this.test);var r="select * from _reference13 where _idrref = '".concat(e,"'"),i=Object(E["a"])(r),a={method:"post",url:"http://"+this.url,data:i};this.$axios(a).then((function(e){var r=e.data.envelope.body.response.data[0]["_status"];0==r&&(s.status="В ожидании",s.color="orange",localStorage.status=s.status,localStorage.color=s.color),1==r&&(s.status="Принято",s.color="green",localStorage.isUser=!1,localStorage.isCashier=!0,s.isUser=!1,s.isCashier=!0,clearInterval(t.test)),2==r&&(s.status="Отклонено",s.color="red",localStorage.status=s.status,localStorage.color=s.color,clearInterval(t.test)),t.isActiveRegistrateSpinner=!1,t.isActiveButton=!0})).catch((function(e){console.error("Произошла ошибка при запросе статуса терминала: ",e),clearInterval(s.test)}))}},created:function(){var e=this;localStorage.isCashier&&(this.isUser=!1,this.isCashier=!0),this.url.length&&this.isUser&&!localStorage.isCashier?this.test=setInterval(c()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getStatus(localStorage.idrref);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),1e4):clearInterval(this.test)},mounted:function(){var e=this,t=localStorage.getItem("server"),s=localStorage.getItem("port"),r=localStorage.getItem("login"),i=localStorage.getItem("password"),a=JSON.parse(localStorage.getItem("objects")),n=localStorage.getItem("model");localStorage.isCashier&&(this.isUser=!1,this.isCashier=!0),this.url.length&&this.isUser&&!localStorage.isCashier?this.test=setInterval(c()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getStatus(localStorage.idrref);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),1e4):clearInterval(),a&&n?(this.model=n,this.messageRegistrateError=!1,this.messageRegistrateSuccessful="Устройство успешно зарегистрировано!"):(this.model=n,this.messageRegistrateSuccessful=!1,this.messageRegistrateError="Необходимо зарегистрировать устройство!"),t&&s?(this.server=t,this.port=s,this.login=r,this.password=i,this.isActiveSelect=!0,this.isActiveRegistrateButton=!0,this.messageError=!1,this.isActiveButton=!0,this.isActiveSpinner=!1,this.objects=a,this.messageSuccessful="Успешно авторизирован!"):(console.log("Пользователь не авторизирован!"),this.isActiveSelect=!1,this.isActiveRegistrateButton=!1,this.isActiveSpinner=!1,this.isActiveButton=!0,this.messageSuccessful=!1,this.messageError="Необходимо авторизироваться!")}},C=x,b=(s("5282"),s("4d5a")),Q=s("e359"),I=s("65c6"),Y=s("9c40"),R=s("6ac5"),B=s("9404"),J=s("1c1c"),T=s("0170"),K=s("66e5"),U=s("27f9"),k=s("58a8"),P=s("06d5"),F=s("0016"),j=s("4074"),y=s("ddd8"),q=s("09e3"),X=Object(g["a"])(C,r,i,!1,null,"51afe9db",null);t["default"]=X.exports;p()(X,"components",{QLayout:b["a"],QHeader:Q["a"],QToolbar:I["a"],QBtn:Y["a"],QToolbarTitle:R["a"],QDrawer:B["a"],QList:J["a"],QItemLabel:T["a"],QItem:K["a"],QInput:U["a"],QBadge:k["a"],QSpinnerPuff:P["a"],QIcon:F["a"],QItemSection:j["a"],QSelect:y["a"],QPageContainer:q["a"]})},fbf5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAyCAYAAADMb4LpAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK0SURBVHgB7ZjNcdpAGIa/1SoXSCZ0EOWAGG6mA6gg6SCkAtOB5QqSDkIqiDuIO8A3RpJnUAlkEnyTNt8nvCAw+kFaeWWPngMDqx3peVfL/gG8YBjUyGKx6HW7XSsMw/VwOAxAMQbUxHK5tLrddwtsnwXn5sr3/StQTC3yJM75m98AwsKfayoTAhzVAZTLH4nfbTb/Poah+ErXVAdQ2udPiE9Go9F6e82bcs5+xA9l4PT7/WuoiLKWzxInhkN7ji0fC6t6A0paPk88iev6DrZ8LF71DVSWT4oLIYKHh80oTVyiKkAl+WPxKAonRcdzFQFKy1cRl1QNUEpehbikSoCz5VWKS8oGOEu+DnFJmQCFx3laZNUlTgwGfefceaCQ/HZ1+LY2ccm5AXK7zV4cLuoUT1K0C2XK6xCXFAmQKq9TXJIX4KR8E8QlWQGeyDdJXJIW4EC+ieIS1/XmjLEv9F0GOJD3/ftfKP25aeKS4wA7eRxTv+HYOmuquOQgAH14nndBu/ymi0tkADNZiAU9wzCmruseVI6iaK4rEDbsFBvVSpah43ss2/9hMc0K5a1TNxAiuh4MBg48M9uFoLlKu75reeoujPEZpdpfjhOPQTPUnfHzZ7IMG/pmJ//YLWbJCvTKsNoYNIOigW3bznF5bcd9z0ErrwsTFIIT3fh4WDsF1lnj6HUDFVEmT7se2v0U2RbjHxAHg/tgs/mbe0CVhRJ5Go+34jG3qBdk1cd5Y4z+VqfTodHNgZIokTdNk+RjbLs/yauPM7iDAa9wXvkAFWhHG1208rpo5XXRyuuildfF65cXgvVAA5zzzOdmLszCkAWc01EDu8TThU/pNSmceNwo5xNFxi3eF88eBR6zeOPUuzKjR0ccePTy5+R1yAHX3d/xIZeQD67LxQQ3yncF6ha+b9ZB2H8EixoJ9vAsnwAAAABJRU5ErkJggg=="}}]);