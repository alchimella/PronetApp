(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2deae182"],{"0418":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-header",{staticClass:"bg-primary-dark1 no-shadow",attrs:{reveal:""}},[n("q-toolbar",{staticClass:"q-pt-xl"},[t.routesWithBackButton.includes(t.currentRoute)?n("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:""},on:{click:function(e){return t.$router.replace("first-step")}}},[n("img",{staticClass:"back-button-icon",attrs:{src:s("336c")}})]):t._e(),n("q-toolbar-title",{staticClass:"flex justify-center"},["/signup/third-step"==t.currentRoute?n("h1",[t._v("Авторизация")]):n("h1",[t._v("Регистрация")])]),t.routesWithBackButton.includes(t.currentRoute)?n("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:""}}):t._e()],1)],1)},a=[],r={name:"Header",data:function(){return{currentRoute:this.$router.currentRoute.path,routesWithBackButton:["/signup/second-step"]}}},i=r,o=s("2877"),c=s("eebe"),l=s.n(c),u=s("e359"),d=s("65c6"),p=s("9c40"),h=s("6ac5"),A=Object(o["a"])(i,n,a,!1,null,"45075dcc",null);e["a"]=A.exports;l()(A,"components",{QHeader:u["a"],QToolbar:d["a"],QBtn:p["a"],QToolbarTitle:h["a"]})},"336c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAmCAYAAACRWlj1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFpSURBVHgB3dnNbcJAEIbhb62IC47kIpJFljjQgktICSkhHZBKQgcpwenAHLhg50AqCGckvNlBAYkf27s2h515T1w4PAL/zA5wh4qiSKrqO1+tyhkCS2FghBuP49x+JNx2tzPZdKqXCKRBwAvcsaCQvYENuGPBICP0qANHJaMRPhBAD/DMAQdjzKau9y8IIK+/qAcuS9N0gwByBnLEUU5ArjiqE8gZR7UCueOoRqAEHHUTKAVHXQEl4agzoDQcdQK64P6/sjBm/wMmHYDuOH4pyTgqiuPHTwjFUZEx9ZtSaguhHa7BsixnSkW5vUMmENbpLuqB/AKjzp6Dbki10PrpFUy6epORhrz5LioJ2ThNSEG2zoMSkJ0TPXek05kMZ6TzqRpXpNe5KEek926CG7LX8oUTstfyRWu9tFNI1jaFWHwQU/+g/WDTL2kM3ieT5zkCaPCG9xIZEu5uEdLu6H/X62oOqdHZDgLsD5tCQjgSgxeTAAAAAElFTkSuQmCC"},"3b63":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex q-pa-lg"},[s("Header"),s("div",{staticClass:"flex row justify-center content-center full-width"},[s("h2",{staticClass:"flex justify-center full-width"},[t._v("Введите номер")]),s("q-input",{staticClass:"full-width input",attrs:{type:"tel",pattern:"\\d*",dark:"",borderless:"","unmasked-value":"",mask:"+### (###) ### ###",placeholder:"+996 (000) 000  000 "},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("q-input",{staticClass:"q-mt-md full-width input",attrs:{dark:"",borderless:"",type:t.isPwd?"password":"text",placeholder:"Введите пароль"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"q-pr-lg",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"flex row justify-center content-end items-end full-width"},[s("h3",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage.length>0,expression:"errorMessage.length > 0"}],staticClass:"q-pl-lg q-pr-lg q-pb-lg full-width"},[t._v(t._s(t.errorMessage))]),s("q-btn",{staticClass:"full-width submit-button",attrs:{label:"Далее",loading:t.submitting,disable:!t.isButtonActive,"no-caps":""},on:{click:t.registerTerminal},scopedSlots:t._u([{key:"loading",fn:function(){return[s("q-spinner")]},proxy:!0}])})],1)],1)},a=[],r=(s("a481"),s("0418")),i={name:"SignUpFirstStep",components:{Header:r["a"]},data:function(){return{phone:"",password:"",errorMessage:"",submitting:!1,isButtonActive:!0,deviceId:device.uuid,signature:"a80ef6f574652d870113226ba0cbe72c",isPwd:!0}},methods:{registerTerminal:function(){var t=this;if(console.log("Запушен первый регистрации"),0==this.phone.length||0==this.password.length)return console.warn("Не заполены поля"),void(this.errorMessage="Заполните поля");this.errorMessage="",this.submitting=!0,this.isButtonActive=!1;var e={method:"post",url:"http://pn.pronet.kg:1072/api/81a05d419edf445b9a1d4964eade2c01?op=1&phone=".concat(this.phone,"&passwd=").concat(this.password,"&signature=").concat(this.signature)};this.$axios(e).then((function(e){console.log("Первый шаг регистрацию терминала прошел успешно. Ожидается подтверждение!",e);var s=e.data.envelope.body.response.data,n=e.data.envelope.body.response.data._idrref;if(0==s.length)return t.errorMessage="Данный номер телефона уже зарегистрирован",t.submitting=!1,void(t.isButtonActive=!0);t.$config.userIdrref=n,t.submitting=!1,t.isButtonActive=!0,t.$router.replace("second-step")})).catch((function(e){console.error("Произошла ошибка при первом регистрации терминала: ",JSON.stringify(e)),t.errorMessage="Произошла ошибка при соединении с сервером",t.submitting=!1,t.isButtonActive=!0}))}}},o=i,c=s("2877"),l=s("eebe"),u=s.n(l),d=s("9989"),p=s("27f9"),h=s("0016"),A=s("9c40"),g=s("0d59"),f=Object(c["a"])(o,n,a,!1,null,"7b969246",null);e["default"]=f.exports;u()(f,"components",{QPage:d["a"],QInput:p["a"],QIcon:h["a"],QBtn:A["a"],QSpinner:g["a"]})}}]);